!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.PDFFile=t():e.PDFFile=t()}(self,(function(){return e={966:e=>{function t(e,t,r,n,a,i,o){try{var s=e[i](o),p=s.value}catch(e){return void r(e)}s.done?t(p):Promise.resolve(p).then(n,a)}function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var n=function(){function e(t){var r=t.data,n=void 0===r?{}:r,a=t.config,i=t.wrapper;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=n,this.config=a,this.wrapper=i}var n,a,i,o,s;return n=e,a=[{key:"render",value:function(){if(this.wrapper=document.createElement("div"),this.wrapper.addEventListener("dragover",this.handleDragOver.bind(this)),this.wrapper.addEventListener("drop",this.handleInputChange.bind(this)),this.wrapper.addEventListener("paste",this.handlePaste.bind(this)),this.data&&this.data.url){var e=this.createPDFObjectElement(this.data.url);this.wrapper.innerHTML="",this.wrapper.appendChild(e)}else{var t=document.createElement("input");t.setAttribute("type","file"),t.setAttribute("accept","application/pdf"),t.addEventListener("input",this.handleInputChange.bind(this)),this.wrapper.appendChild(t)}return this.wrapper}},{key:"handlePaste",value:function(e){var t=(e.clipboardData||e.originalEvent.clipboardData).items,r=Array.from(t).find((function(e){return"file"===e.kind&&"application/pdf"===e.type}));if(r){var n=r.getAsFile();this.uploadFile(n)}}},{key:"handleDragOver",value:function(e){e.preventDefault()}},{key:"handleInputChange",value:function(e){var t=e.target.files[0];t&&this.uploadFile(t)}},{key:"uploadFile",value:(o=regeneratorRuntime.mark((function e(t){var r,n,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("file",t),e.prev=2,e.next=5,fetch(this.config.uploadEndpoint,{method:"POST",body:r});case 5:if(!(n=e.sent).ok){e.next=16;break}return e.next=9,n.json();case 9:a=e.sent,this.data={url:a.file.url},i=this.createPDFObjectElement(a.file.url),this.wrapper.innerHTML="",this.wrapper.appendChild(i),e.next=17;break;case 16:throw new Error("La carga del archivo ha fallado.");case 17:e.next=24;break;case 19:e.prev=19,e.t0=e.catch(2),console.error(e.t0),alert("No se pudo cargar el archivo PDF."),this.wrapper.innerHTML="";case 24:case"end":return e.stop()}}),e,this,[[2,19]])})),s=function(){var e=this,r=arguments;return new Promise((function(n,a){var i=o.apply(e,r);function s(e){t(i,n,a,s,p,"next",e)}function p(e){t(i,n,a,s,p,"throw",e)}s(void 0)}))},function(e){return s.apply(this,arguments)})},{key:"createPDFObjectElement",value:function(e){var t=document.createElement("object");t.setAttribute("data",e+"#toolbar=0"),t.setAttribute("type","application/pdf"),t.setAttribute("width","100%"),t.setAttribute("height","600px");var r=document.createElement("p");r.innerText="Este navegador no soporta mostrar archivos PDF. : ";var n=document.createElement("a");return n.setAttribute("href",e+"#pagemode=none&toolbar=0&statusbar=0&messages=0&navpanes=0"),n.innerText="DescÃ¡rgalo para poder verlo.",r.appendChild(n),t.appendChild(r),t}},{key:"save",value:function(){return this.data}},{key:"validate",value:function(e){var t=e&&e.url;return void 0!==t&&""!==t&&/^(https?):\/\/[^\s/$.?#].[^\s]*$/i.test(t)}}],i=[{key:"toolbox",get:function(){return{title:"PDF",icon:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21.75 18.75V3.25H8.983V9h-4.5V21.75h14.25v-3zm-2.25 2.25H10.483V10.5h9V21zm-5.25-5.25V13.5h2.25v2.25h2.25v2.25h-4.5zM5.983 8.5h2.25V6.25h-2.25v2.25zm4.5 10.5v-3h4.5v3h-4.5z" fill="currentColor"/></svg>'}}},{key:"isReadOnlySupported",get:function(){return!0}}],a&&r(n.prototype,a),i&&r(n,i),e}();e.exports=n}},t={},function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}(966);var e,t}));
//# sourceMappingURL=bundle.js.map