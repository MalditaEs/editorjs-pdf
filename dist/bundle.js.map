{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://PDFFile/webpack/universalModuleDefinition","webpack://PDFFile/./src/index.js","webpack://PDFFile/webpack/bootstrap","webpack://PDFFile/webpack/before-startup","webpack://PDFFile/webpack/startup","webpack://PDFFile/webpack/after-startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"PDFFile\"] = factory();\n\telse\n\t\troot[\"PDFFile\"] = factory();\n})(self, function() {\nreturn ","class PDFFile {\n    static get toolbox() {\n        return {\n            title: 'PDF',\n            icon: '<svg viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M21.75 18.75V3.25H8.983V9h-4.5V21.75h14.25v-3zm-2.25 2.25H10.483V10.5h9V21zm-5.25-5.25V13.5h2.25v2.25h2.25v2.25h-4.5zM5.983 8.5h2.25V6.25h-2.25v2.25zm4.5 10.5v-3h4.5v3h-4.5z\" fill=\"currentColor\"/></svg>'\n        };\n    }\n\n    constructor({ data = {}, config, wrapper }) {\n        this.data = data;\n        this.config = config;\n        this.wrapper = wrapper;\n    }\n\n    render() {\n        this.wrapper = document.createElement('div');\n        this.wrapper.addEventListener('dragover', this.handleDragOver.bind(this));\n        this.wrapper.addEventListener('drop', this.handleInputChange.bind(this));\n        this.wrapper.addEventListener('paste', this.handlePaste.bind(this));\n\n        if (this.data && this.data.url) {\n            const objectElement = this.createPDFObjectElement(this.data.url);\n            this.wrapper.innerHTML = '';\n            this.wrapper.appendChild(objectElement);\n        } else {\n            const input = document.createElement('input');\n            input.setAttribute('type', 'file');\n            input.setAttribute('accept', 'application/pdf');\n            input.addEventListener('input', this.handleInputChange.bind(this));\n            this.wrapper.appendChild(input);\n        }\n\n        return this.wrapper;\n    }\n\n    handlePaste(event) {\n        const items = (event.clipboardData || event.originalEvent.clipboardData).items;\n        const fileItem = Array.from(items).find(item => item.kind === 'file' && item.type === 'application/pdf');\n        if (!fileItem) {\n            return;\n        }\n        const file = fileItem.getAsFile();\n        this.uploadFile(file);\n    }\n\n    handleDragOver(event) {\n        event.preventDefault();\n    }\n\n    handleInputChange(event) {\n        const file = event.target.files[0];\n        if (!file) {\n            return;\n        }\n        this.uploadFile(file);\n    }\n\n    async uploadFile(file) {\n        const formData = new FormData();\n        formData.append('file', file);\n        try {\n            const response = await fetch(this.config.uploadEndpoint, {\n                method: 'POST',\n                body: formData\n            });\n            if (response.ok) {\n                const data = await response.json();\n                this.data = {\n                    url: data.file.url\n                };\n                const objectElement = this.createPDFObjectElement(data.file.url);\n                this.wrapper.innerHTML = '';\n                this.wrapper.appendChild(objectElement);\n            } else {\n                throw new Error('La carga del archivo ha fallado.');\n            }\n        } catch (error) {\n            console.error(error);\n            alert('No se pudo cargar el archivo PDF.');\n            this.wrapper.innerHTML = '';\n        }\n    }\n\n    createPDFObjectElement(url) {\n        const objectElement = document.createElement('object');\n        objectElement.setAttribute('data', url + '#toolbar=0');\n        objectElement.setAttribute('type', 'application/pdf');\n        objectElement.setAttribute('width', '100%');\n        objectElement.setAttribute('height', '600px');\n        const pElement = document.createElement('p');\n        pElement.innerText = 'Este navegador no soporta mostrar archivos PDF. : ';\n        const aElement = document.createElement('a');\n        aElement.setAttribute('href', url + '#pagemode=none&toolbar=0&statusbar=0&messages=0&navpanes=0');\n        aElement.innerText = 'Desc√°rgalo para poder verlo.';\n        pElement.appendChild(aElement);\n        objectElement.appendChild(pElement);\n        return objectElement;\n    }\n\n\n    save() {\n        return this.data;\n    }\n\n    static get isReadOnlySupported() {\n        return true;\n    }\n}\n\nmodule.exports = PDFFile;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(966);\n",""],"names":["PDFFile","data","config","wrapper","document","createElement","addEventListener","handleDragOver","bind","handleInputChange","handlePaste","url","objectElement","createPDFObjectElement","innerHTML","appendChild","input","setAttribute","event","items","clipboardData","originalEvent","fileItem","Array","from","find","item","kind","type","file","getAsFile","uploadFile","preventDefault","target","files","formData","FormData","append","fetch","uploadEndpoint","method","body","response","ok","json","Error","console","error","alert","pElement","innerText","aElement","title","icon","module","exports"],"sourceRoot":""}